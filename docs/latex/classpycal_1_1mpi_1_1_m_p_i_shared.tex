\hypertarget{classpycal_1_1mpi_1_1_m_p_i_shared}{}\doxysection{pycal.\+mpi.\+M\+P\+I\+Shared Class Reference}
\label{classpycal_1_1mpi_1_1_m_p_i_shared}\index{pycal.mpi.MPIShared@{pycal.mpi.MPIShared}}


Inheritance diagram for pycal.\+mpi.\+M\+P\+I\+Shared\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=199pt]{classpycal_1_1mpi_1_1_m_p_i_shared__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for pycal.\+mpi.\+M\+P\+I\+Shared\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=199pt]{classpycal_1_1mpi_1_1_m_p_i_shared__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classpycal_1_1mpi_1_1_m_p_i_shared_af5382eb16192539362c41e2626d4e7d0}\label{classpycal_1_1mpi_1_1_m_p_i_shared_af5382eb16192539362c41e2626d4e7d0}} 
def {\bfseries \+\_\+\+\_\+init\+\_\+\+\_\+} (self, \mbox{\hyperlink{classpycal_1_1mpi_1_1_m_p_i_shared_a202fd28eca15f3abbfe9e9d44a674224}{shape}}, \mbox{\hyperlink{classpycal_1_1mpi_1_1_m_p_i_shared_a09a9a294e703139c6995237e6ce0ab3c}{dtype}}, \mbox{\hyperlink{classpycal_1_1mpi_1_1_m_p_i_shared_a074d9d6d9970ba302e9bc795095a6c11}{comm}})
\item 
\mbox{\Hypertarget{classpycal_1_1mpi_1_1_m_p_i_shared_ae4d5d66d68d6913cef8170dd46c20518}\label{classpycal_1_1mpi_1_1_m_p_i_shared_ae4d5d66d68d6913cef8170dd46c20518}} 
def {\bfseries \+\_\+\+\_\+del\+\_\+\+\_\+} (self)
\item 
\mbox{\Hypertarget{classpycal_1_1mpi_1_1_m_p_i_shared_abbf6a2efc80827fb8a718e50cfd2a3ff}\label{classpycal_1_1mpi_1_1_m_p_i_shared_abbf6a2efc80827fb8a718e50cfd2a3ff}} 
def {\bfseries \+\_\+\+\_\+enter\+\_\+\+\_\+} (self)
\item 
\mbox{\Hypertarget{classpycal_1_1mpi_1_1_m_p_i_shared_a279fc4ee3fe17ac1f0fd977e36ecd7ff}\label{classpycal_1_1mpi_1_1_m_p_i_shared_a279fc4ee3fe17ac1f0fd977e36ecd7ff}} 
def {\bfseries \+\_\+\+\_\+exit\+\_\+\+\_\+} (self, type, value, tb)
\item 
\mbox{\Hypertarget{classpycal_1_1mpi_1_1_m_p_i_shared_a38469950d865bd6e5451a424dca814ab}\label{classpycal_1_1mpi_1_1_m_p_i_shared_a38469950d865bd6e5451a424dca814ab}} 
def {\bfseries close} (self)
\item 
def \mbox{\hyperlink{classpycal_1_1mpi_1_1_m_p_i_shared_a202fd28eca15f3abbfe9e9d44a674224}{shape}} (self)
\item 
def \mbox{\hyperlink{classpycal_1_1mpi_1_1_m_p_i_shared_a09a9a294e703139c6995237e6ce0ab3c}{dtype}} (self)
\item 
def \mbox{\hyperlink{classpycal_1_1mpi_1_1_m_p_i_shared_a074d9d6d9970ba302e9bc795095a6c11}{comm}} (self)
\item 
def \mbox{\hyperlink{classpycal_1_1mpi_1_1_m_p_i_shared_a4389949dab062f5190ab15a84e643c3b}{nodecomm}} (self)
\item 
def \mbox{\hyperlink{classpycal_1_1mpi_1_1_m_p_i_shared_a01a4b63c3fb8c32721e45d2ce7c31ea7}{set}} (self, data, offset, fromrank=0)
\item 
\mbox{\Hypertarget{classpycal_1_1mpi_1_1_m_p_i_shared_af61eae2080752b48344b550592392a94}\label{classpycal_1_1mpi_1_1_m_p_i_shared_af61eae2080752b48344b550592392a94}} 
def {\bfseries \+\_\+\+\_\+getitem\+\_\+\+\_\+} (self, key)
\item 
\mbox{\Hypertarget{classpycal_1_1mpi_1_1_m_p_i_shared_a17b225a0fe29e3da291a2fc0b7adb778}\label{classpycal_1_1mpi_1_1_m_p_i_shared_a17b225a0fe29e3da291a2fc0b7adb778}} 
def {\bfseries \+\_\+\+\_\+setitem\+\_\+\+\_\+} (self, key, value)
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classpycal_1_1mpi_1_1_m_p_i_shared_adf75d768ab65706515ae065b53d5104a}\label{classpycal_1_1mpi_1_1_m_p_i_shared_adf75d768ab65706515ae065b53d5104a}} 
def {\bfseries \+\_\+disthelper} (self, n, groups)
\item 
\mbox{\Hypertarget{classpycal_1_1mpi_1_1_m_p_i_shared_a5122b8c0e5212af26aad15aa7e5b4864}\label{classpycal_1_1mpi_1_1_m_p_i_shared_a5122b8c0e5212af26aad15aa7e5b4864}} 
def {\bfseries \+\_\+checkabort} (self, \mbox{\hyperlink{classpycal_1_1mpi_1_1_m_p_i_shared_a074d9d6d9970ba302e9bc795095a6c11}{comm}}, status, msg)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classpycal_1_1mpi_1_1_m_p_i_shared_a82a97f240f873a944c617ee18040c53f}\label{classpycal_1_1mpi_1_1_m_p_i_shared_a82a97f240f873a944c617ee18040c53f}} 
{\bfseries \+\_\+shape}
\item 
\mbox{\Hypertarget{classpycal_1_1mpi_1_1_m_p_i_shared_a3478bbec9fe7691607b0e7813ff7b66a}\label{classpycal_1_1mpi_1_1_m_p_i_shared_a3478bbec9fe7691607b0e7813ff7b66a}} 
{\bfseries \+\_\+dtype}
\item 
\mbox{\Hypertarget{classpycal_1_1mpi_1_1_m_p_i_shared_adbc65ba9540ca9a210579b996bd9a5ba}\label{classpycal_1_1mpi_1_1_m_p_i_shared_adbc65ba9540ca9a210579b996bd9a5ba}} 
{\bfseries \+\_\+comm}
\item 
\mbox{\Hypertarget{classpycal_1_1mpi_1_1_m_p_i_shared_abf8e6f6ef10481924c7889b553dfad62}\label{classpycal_1_1mpi_1_1_m_p_i_shared_abf8e6f6ef10481924c7889b553dfad62}} 
{\bfseries \+\_\+rank}
\item 
\mbox{\Hypertarget{classpycal_1_1mpi_1_1_m_p_i_shared_a7870b7a46cb8c794c268f8639777969d}\label{classpycal_1_1mpi_1_1_m_p_i_shared_a7870b7a46cb8c794c268f8639777969d}} 
{\bfseries \+\_\+procs}
\item 
\mbox{\Hypertarget{classpycal_1_1mpi_1_1_m_p_i_shared_af914e18b4d7dde8176b31fea58b1feb7}\label{classpycal_1_1mpi_1_1_m_p_i_shared_af914e18b4d7dde8176b31fea58b1feb7}} 
{\bfseries \+\_\+n}
\item 
\mbox{\Hypertarget{classpycal_1_1mpi_1_1_m_p_i_shared_abc5879914b88654657bee004db1aaf35}\label{classpycal_1_1mpi_1_1_m_p_i_shared_abc5879914b88654657bee004db1aaf35}} 
{\bfseries \+\_\+nodecomm}
\item 
\mbox{\Hypertarget{classpycal_1_1mpi_1_1_m_p_i_shared_a716371e7cee2d2da8e12839f5ed58606}\label{classpycal_1_1mpi_1_1_m_p_i_shared_a716371e7cee2d2da8e12839f5ed58606}} 
{\bfseries \+\_\+rankcomm}
\item 
\mbox{\Hypertarget{classpycal_1_1mpi_1_1_m_p_i_shared_ac3e7a18515b1c133a8d3cb070c6932bc}\label{classpycal_1_1mpi_1_1_m_p_i_shared_ac3e7a18515b1c133a8d3cb070c6932bc}} 
{\bfseries \+\_\+noderank}
\item 
\mbox{\Hypertarget{classpycal_1_1mpi_1_1_m_p_i_shared_ad704cca171083ab9b09fe9633739ab61}\label{classpycal_1_1mpi_1_1_m_p_i_shared_ad704cca171083ab9b09fe9633739ab61}} 
{\bfseries \+\_\+nodeprocs}
\item 
\mbox{\Hypertarget{classpycal_1_1mpi_1_1_m_p_i_shared_abf315436bf722278d9172cd0b4a0c17e}\label{classpycal_1_1mpi_1_1_m_p_i_shared_abf315436bf722278d9172cd0b4a0c17e}} 
{\bfseries \+\_\+nodes}
\item 
\mbox{\Hypertarget{classpycal_1_1mpi_1_1_m_p_i_shared_a1781674c48cee3690f63dbd462da3396}\label{classpycal_1_1mpi_1_1_m_p_i_shared_a1781674c48cee3690f63dbd462da3396}} 
{\bfseries \+\_\+mynode}
\item 
\mbox{\Hypertarget{classpycal_1_1mpi_1_1_m_p_i_shared_ac57b38a33fa8bbafd300679b004ac681}\label{classpycal_1_1mpi_1_1_m_p_i_shared_ac57b38a33fa8bbafd300679b004ac681}} 
{\bfseries \+\_\+maxsetrank}
\item 
\mbox{\Hypertarget{classpycal_1_1mpi_1_1_m_p_i_shared_a2b258de9b3b09f3fabf4af7288719567}\label{classpycal_1_1mpi_1_1_m_p_i_shared_a2b258de9b3b09f3fabf4af7288719567}} 
{\bfseries \+\_\+localoffset}
\item 
\mbox{\Hypertarget{classpycal_1_1mpi_1_1_m_p_i_shared_a6d9b4a3f1c263c120e339005843e094c}\label{classpycal_1_1mpi_1_1_m_p_i_shared_a6d9b4a3f1c263c120e339005843e094c}} 
{\bfseries \+\_\+nlocal}
\item 
\mbox{\Hypertarget{classpycal_1_1mpi_1_1_m_p_i_shared_afb2f5ea2512689d033d5b37f8bb10b7c}\label{classpycal_1_1mpi_1_1_m_p_i_shared_afb2f5ea2512689d033d5b37f8bb10b7c}} 
{\bfseries \+\_\+mpitype}
\item 
\mbox{\Hypertarget{classpycal_1_1mpi_1_1_m_p_i_shared_aedf5b4a706c1c5cc9d748caa69b210d3}\label{classpycal_1_1mpi_1_1_m_p_i_shared_aedf5b4a706c1c5cc9d748caa69b210d3}} 
{\bfseries \+\_\+win}
\item 
\mbox{\Hypertarget{classpycal_1_1mpi_1_1_m_p_i_shared_a14c60b7c07e4e3b66e3a623ba99ee600}\label{classpycal_1_1mpi_1_1_m_p_i_shared_a14c60b7c07e4e3b66e3a623ba99ee600}} 
{\bfseries \+\_\+buffer}
\item 
\mbox{\Hypertarget{classpycal_1_1mpi_1_1_m_p_i_shared_a98bfe7a1a219561ac515cd9dd6e826da}\label{classpycal_1_1mpi_1_1_m_p_i_shared_a98bfe7a1a219561ac515cd9dd6e826da}} 
{\bfseries \+\_\+dbuf}
\item 
\mbox{\Hypertarget{classpycal_1_1mpi_1_1_m_p_i_shared_a31c3849ac4449dc6f151859463349cb7}\label{classpycal_1_1mpi_1_1_m_p_i_shared_a31c3849ac4449dc6f151859463349cb7}} 
{\bfseries \+\_\+flat}
\item 
\mbox{\Hypertarget{classpycal_1_1mpi_1_1_m_p_i_shared_ad1c91fcaf5bfed2e956cef18b3bb45fe}\label{classpycal_1_1mpi_1_1_m_p_i_shared_ad1c91fcaf5bfed2e956cef18b3bb45fe}} 
{\bfseries \+\_\+data}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}Create a shared memory buffer that is replicated across nodes.

For the given array dimensions and datatype, the original communicator
is split into groups of processes that can share memory (i.e. that are
on the same node).

The values of the memory buffer can be set by one process at a time.
When the set() method is called the data passed by the specified
process is replicated to all nodes and then copied into the desired
place in the shared memory buffer on each node.  This way the shared
buffer on each node is identical.

All processes across all nodes may do read-only access to their node-
local copy of the buffer, simply by using the standard array indexing
notation ("[]") on the object itself.

Args:
    shape (tuple): the dimensions of the array.
    dtype (np.dtype): the data type of the array.
    comm (MPI.Comm): the full communicator to use.  This may span
        multiple nodes, and each node will have a copy.
\end{DoxyVerb}
 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classpycal_1_1mpi_1_1_m_p_i_shared_a074d9d6d9970ba302e9bc795095a6c11}\label{classpycal_1_1mpi_1_1_m_p_i_shared_a074d9d6d9970ba302e9bc795095a6c11}} 
\index{pycal.mpi.MPIShared@{pycal.mpi.MPIShared}!comm@{comm}}
\index{comm@{comm}!pycal.mpi.MPIShared@{pycal.mpi.MPIShared}}
\doxysubsubsection{\texorpdfstring{comm()}{comm()}}
{\footnotesize\ttfamily def pycal.\+mpi.\+M\+P\+I\+Shared.\+comm (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}The full communicator.
\end{DoxyVerb}
 \mbox{\Hypertarget{classpycal_1_1mpi_1_1_m_p_i_shared_a09a9a294e703139c6995237e6ce0ab3c}\label{classpycal_1_1mpi_1_1_m_p_i_shared_a09a9a294e703139c6995237e6ce0ab3c}} 
\index{pycal.mpi.MPIShared@{pycal.mpi.MPIShared}!dtype@{dtype}}
\index{dtype@{dtype}!pycal.mpi.MPIShared@{pycal.mpi.MPIShared}}
\doxysubsubsection{\texorpdfstring{dtype()}{dtype()}}
{\footnotesize\ttfamily def pycal.\+mpi.\+M\+P\+I\+Shared.\+dtype (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}The numpy datatype of the shared array.
\end{DoxyVerb}
 \mbox{\Hypertarget{classpycal_1_1mpi_1_1_m_p_i_shared_a4389949dab062f5190ab15a84e643c3b}\label{classpycal_1_1mpi_1_1_m_p_i_shared_a4389949dab062f5190ab15a84e643c3b}} 
\index{pycal.mpi.MPIShared@{pycal.mpi.MPIShared}!nodecomm@{nodecomm}}
\index{nodecomm@{nodecomm}!pycal.mpi.MPIShared@{pycal.mpi.MPIShared}}
\doxysubsubsection{\texorpdfstring{nodecomm()}{nodecomm()}}
{\footnotesize\ttfamily def pycal.\+mpi.\+M\+P\+I\+Shared.\+nodecomm (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}The node-local communicator.
\end{DoxyVerb}
 \mbox{\Hypertarget{classpycal_1_1mpi_1_1_m_p_i_shared_a01a4b63c3fb8c32721e45d2ce7c31ea7}\label{classpycal_1_1mpi_1_1_m_p_i_shared_a01a4b63c3fb8c32721e45d2ce7c31ea7}} 
\index{pycal.mpi.MPIShared@{pycal.mpi.MPIShared}!set@{set}}
\index{set@{set}!pycal.mpi.MPIShared@{pycal.mpi.MPIShared}}
\doxysubsubsection{\texorpdfstring{set()}{set()}}
{\footnotesize\ttfamily def pycal.\+mpi.\+M\+P\+I\+Shared.\+set (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{data,  }\item[{}]{offset,  }\item[{}]{fromrank = {\ttfamily 0} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Set the values of a slice of the shared array.

This call is collective across the full communicator, but only the
data input from process "fromrank" is meaningful.  The offset
specifies the starting element along each dimension when copying
the data into the shared array.  Regardless of which node the
"fromrank" process is on, the data will be replicated to the
shared memory buffer on all nodes.

Args:
    data (array): a numpy array with the same number of dimensions
as the full array.
    offset (tuple): the starting offset along each dimension, which
determines where the input data should be inserted into the
shared array.
    fromrank (int): the process rank of the full communicator which
is passing in the data.

Returns:
    Nothing
\end{DoxyVerb}
 \mbox{\Hypertarget{classpycal_1_1mpi_1_1_m_p_i_shared_a202fd28eca15f3abbfe9e9d44a674224}\label{classpycal_1_1mpi_1_1_m_p_i_shared_a202fd28eca15f3abbfe9e9d44a674224}} 
\index{pycal.mpi.MPIShared@{pycal.mpi.MPIShared}!shape@{shape}}
\index{shape@{shape}!pycal.mpi.MPIShared@{pycal.mpi.MPIShared}}
\doxysubsubsection{\texorpdfstring{shape()}{shape()}}
{\footnotesize\ttfamily def pycal.\+mpi.\+M\+P\+I\+Shared.\+shape (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}The tuple of dimensions of the shared array.
\end{DoxyVerb}
 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/home/algebrato/\+Progetti/\+C\+M\+B4\+G/libcal/src/pycal/mpi.\+py\end{DoxyCompactItemize}
